# Ubucon Asia 2025: Intentionally Vulnerable Animal Picture App

## Disclaimer

⚠️ **This application is intentionally vulnerable and created solely for educational purposes as part of the Ubucon Asia 2025 workshop.**  
The goal of the workshop is to demonstrate how to limit the attack surface of applications using [AppArmor](https://apparmor.net/).  
**Do not use this code in production or expose it to the public internet.**

> **Most of the code in this repository is generated by AI and may not follow best security or coding practices. Use only for the intended workshop purpose.**

---

## Features

- Upload animal (cat/dog) pictures to a directory in your home folder
- View a gallery of uploaded images
- Read/download images by filename
- Several intentionally insecure endpoints for demonstration

---

## Getting Started

### Prerequisites

- Go 1.20+ (for building from source)
- Linux (recommended for AppArmor demos)

### Quick Start with Sample Animal Pictures

This repository includes a folder named `sample_pictures` with a few animal images for demo purposes.

After cloning, you can copy these images to your `~/animal_pictures` directory to see the gallery in action right away:

```sh
git clone https://github.com/shishirsub10/ubucon-asia-2025.git
cd ubucon-asia-2025
mkdir -p ~/animal_pictures
cp sample_pictures/* ~/animal_pictures/
CGO_ENABLED=0 go build -o ubucon-asia-2025
```

Now run the app and visit [http://localhost:8080](http://localhost:8080) to see the sample images in the gallery!

---

## Running the Application

You can run the application in two ways:

### 1. Using the Prebuilt Binary

Download the prebuilt binary from the [Releases page](https://github.com/shishirsub10/ubucon-asia-2025/releases), make it executable, and run:

```sh
chmod +x ubucon-asia-2025
./ubucon-asia-2025
```

### 2. Installing the `.deb` Package

Download the `.deb` file from the [Releases page](https://github.com/shishirsub10/ubucon-asia-2025/releases) and install it using `dpkg`:

```sh
sudo dpkg -i ubucon-asia-2025_*.deb
```

Or download directly from Launchpad:

- [ubucon-asia-2025_1.0.0_amd64.deb (x86_64)](https://launchpad.net/~shishirsub10/+archive/ubuntu/ppa/+files/ubucon-asia-2025_1.0.0_amd64.deb)
- [ubucon-asia-2025_1.0.0_arm64.deb (ARM64)](https://launchpad.net/~shishirsub10/+archive/ubuntu/ppa/+files/ubucon-asia-2025_1.0.0_arm64.deb)

Then run the application:

```sh
ubucon-asia-2025
```

---

By default, the server runs on `localhost:8080`.  
Visit [http://localhost:8080](http://localhost:8080) in your browser.

### Configuration

- Images are stored in `~/animal_pictures` by default.
- You can change the port and host with flags:
  ```sh
  ./ubucon-asia-2025 -host 0.0.0.0 -port 8081
  # or, if installed via deb:
  ubucon-asia-2025 -host 0.0.0.0 -port 8081
  ```

---

## Cleanup

Depending on how you installed or ran the application, use the following steps to clean up:

### If you used the prebuilt binary

Simply remove the binary from your directory:

```sh
rm ./ubucon-asia-2025
```

### If you installed using the `.deb` package

Remove the package using apt:

```sh
sudo apt remove ubucon-asia-2025
```

If you want to manually remove the binary (if it still exists):

```sh
sudo rm /usr/local/bin/ubucon-asia-2025
```

### Remove sample images (optional)

If you want to remove the sample images from your home directory:

```sh
rm -rf ~/animal_pictures
```

---

## Workshop Goal

This app is intentionally insecure to demonstrate how [AppArmor](https://apparmor.net/) can be used to confine and protect vulnerable applications.  
**Do not use this application outside of a controlled workshop or test environment.**

